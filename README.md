My naming conventions were terrible with this, but it solves the problem and would solve others. The only edge case I can think of that would fail is multiple loner students.
